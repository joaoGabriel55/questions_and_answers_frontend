(function(e){function t(t){for(var n,o,i=t[0],u=t[1],l=t[2],d=0,m=[];d<i.length;d++)o=i[d],a[o]&&m.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,i=1;i<s.length;i++){var u=s[i];0!==a[u]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},a={app:0},r=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var n=s("c21b"),a=s.n(n);a.a},"08f2":function(e,t,s){},"18f4":function(e,t,s){"use strict";var n=s("226b"),a=s.n(n);a.a},2175:function(e,t,s){"use strict";var n=s("f587"),a=s.n(n);a.a},"226b":function(e,t,s){},"2a43":function(e,t,s){},"2dd6":function(e,t,s){"use strict";var n=s("bd70"),a=s.n(n);a.a},3599:function(e,t,s){},"52d3":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("097d"),s("7f10");var n=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"hide-menu":!e.isMenuVisible||!e.user},attrs:{id:"app"}},[s("Header",{attrs:{title:"Questions & Answers",hideToggle:!e.user,hideUserDropdown:!e.user}}),e.validatingToken?s("Loading"):s("Content"),s("Footer")],1)},r=[],o=(s("96cf"),s("3b8d")),i=s("bc3a"),u=s.n(i),l="__session_user",c="https://questions-and-answers-esig.herokuapp.com";function d(e){e&&e.response&&e.response.data?n["a"].toasted.global.defaultError({msg:e.response.data.errors}):"string"===typeof e?n["a"].toasted.global.defaultError({msg:e.response.data.errors}):n["a"].toasted.global.defaultError()}var m=s("2f62"),p=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading"},[n("img",{attrs:{src:s("cf1c"),alt:"Loading"}})])}],h={name:"Loading"},v=h,b=(s("2dd6"),s("2877")),g=Object(b["a"])(v,p,f,!1,null,null,null),w=g.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"header"},[s("h1",{staticClass:"title"},[s("router-link",{attrs:{to:"/"}},[e._v(e._s(e.title))])],1),e.hideUserDropdown?e._e():s("UserDropdown")],1)},y=[],k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-dropdown"},[s("div",{staticClass:"user-button"},[s("span",{staticClass:"d-none d-sm-block"},[e._v(e._s(e.user.user.nome))]),s("div",{staticClass:"user-dropdown-img"},[s("Gravatar",{attrs:{email:e.user.user.email,alt:"User"}})],1),s("i",{staticClass:"fa fa-angle-down"})]),s("div",{staticClass:"user-dropdown-content"},["ROLE_ADMIN"==e.user.user.profile?s("router-link",{staticStyle:{color:"black"},attrs:{to:"/admin"}},[s("i",{staticClass:"fa fa-cogs"}),e._v("Administration")]):e._e(),s("a",{staticStyle:{color:"black"},attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[s("i",{staticClass:"fa fa-sign-out"}),e._v("Sign out")])],1)])},C=[],x=s("e06a"),$=s.n(x),q={name:"UserDropdown",components:{Gravatar:$.a},computed:Object(m["b"])(["user"]),methods:{logout:function(){localStorage.removeItem(l),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}}},S=q,P=(s("a09f"),Object(b["a"])(S,k,C,!1,null,null,null)),A=P.exports,O={name:"Header",components:{UserDropdown:A},props:{title:String,hideToggle:Boolean,hideUserDropdown:Boolean},computed:{icon:function(){return this.$store.state.isMenuVisible?"fa-angle-left":"fa-angle-down"}},methods:{toggleMenu:function(){this.$store.commit("toggleMenu")}}},E=O,N=(s("9f34"),Object(b["a"])(E,_,y,!1,null,null,null)),I=N.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("router-view")],1)},M=[],T={name:"Content"},j=T,L=(s("9551"),Object(b["a"])(j,U,M,!1,null,null,null)),D=L.exports,R=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Q=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("span",[e._v("Thanks "),s("strong",[e._v("Cod3r")]),e._v("!")])])}],H={name:"Footer"},B=H,F=(s("2175"),Object(b["a"])(B,R,Q,!1,null,null,null)),V=F.exports,J={name:"App",components:{Loading:w,Header:I,Content:D,Footer:V},computed:Object(m["b"])(["isMenuVisible","user"]),data:function(){return{validatingToken:!0}},methods:{validateToken:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.validatingToken=!0,t=localStorage.getItem(l),s=JSON.parse(t)?JSON.parse(t):null,s){e.next=7;break}return this.validatingToken=!1,this.$router.push({name:"auth"}),e.abrupt("return");case 7:return e.next=9,u.a.post("".concat(c,"/refresh/").concat(s.token));case 9:n=e.sent,n.data?(this.$store.commit("setUser",s),"xs"!==this.$mq&&"sm"!==this.$mq||this.$store.commit("toggleMenu",!1)):(localStorage.removeItem(l),this.$router.push({name:"auth"})),this.validatingToken=!1;case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.validateToken()}},z=J,G=(s("034f"),Object(b["a"])(z,a,r,!1,null,null,null)),Y=G.exports,K=s("7bb1");n["a"].use(K["a"]);s("f9e3"),s("2dd8");var W=s("9f7b");n["a"].use(W["a"]);var X=s("a65d"),Z=s.n(X);n["a"].use(Z.a,{iconPack:"fontawesome",duration:3e3}),n["a"].toasted.register("defaultSuccess",function(e){return e.msg?e.msg:"Operation Success!"},{type:"success",icon:"check"}),n["a"].toasted.register("defaultError",function(e){return e.msg?e.msg:"Ops... Error."},{type:"error",icon:"times"}),n["a"].toasted.register("passwordNotMatch","Passwords not match",{type:"error",icon:"times"});var ee=s("795b"),te=s.n(ee),se=function(e){return e},ne=function(e){if(401!==e.response.status)return te.a.reject(e);localStorage.removeItem(l),window.location="/"};u.a.interceptors.response.use(se,ne);var ae=s("660e");n["a"].use(ae["a"],{breakpoints:{xs:576,sm:768,md:960,lg:1140,xl:1/0}}),n["a"].use(m["a"]);var re=new m["a"].Store({state:{user:null},mutations:{toggleMenu:function(e,t){e.user?e.isMenuVisible=void 0===t?!e.isMenuVisible:t:e.isMenuVisible=!1},setUser:function(e,t){e.user=t,t?u.a.defaults.headers.common["Authorization"]=t.token:delete u.a.defaults.headers.common["Authorization"]}}}),oe=s("8c4f"),ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("PageTitle",{attrs:{icon:"fa fa-home",main:"Timeline",sub:"Your questions and answers."}}),s("div",{staticClass:"timeline"},[s("b-card",{staticClass:"card-tabs-questions",attrs:{"no-body":""}},[s("b-tabs",{attrs:{card:""}},[s("b-tab",{attrs:{title:"My Questions",active:""}},[s("QuestionAndAnswers",{attrs:{isUserLogged:!0}})],1),s("b-tab",{attrs:{title:"All Questions"}},[s("QuestionAndAnswers",{attrs:{isUserLogged:!1}})],1)],1)],1)],1)],1)},ue=[],le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-title"},[s("h1",[e.icon?s("i",{class:e.icon}):e._e(),e._v(" "+e._s(e.main))]),s("h2",[e._v(e._s(e.sub))]),s("hr")])},ce=[],de={name:"PageTitle",props:["icon","main","sub"]},me=de,pe=(s("a405"),Object(b["a"])(me,le,ce,!1,null,null,null)),fe=pe.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"questions"},[s("QuestionForm"),e._l(e.questions,function(t){return s("b-card",{key:t.questionId,staticClass:"mb-3"},[s("p",{staticClass:"card-text"},[e._v("\n          "+e._s(t.questionContent)+"\n     ")]),s("div",[s("div",{staticClass:"row justify-content-between"},[s("div",{staticClass:"col-5"},[s("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{id:e.isUserLogged?t.questionId+"-btn":t.questionId+"-q-btn-al"},on:{click:function(s){e.showAnswers(e.isUserLogged?t.questionId+"-q":t.questionId+"-q-al",t.questionId)}}},[e._v("See answers")])]),s("div",{staticClass:"col-3 author mt-2"},[s("span",[s("strong",[e._v("Author: ")]),e._v(e._s(t.userName))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isHidden,expression:"isHidden"}],staticClass:"answers",attrs:{id:e.isUserLogged?t.questionId+"-q":t.questionId+"-q-al"}},[s("hr"),s("span",[s("strong",[e._v("Answers")])]),e._l(t.answerUserList,function(t){return s("b-card",{key:t.answerId,staticClass:"mt-2"},[s("p",{staticClass:"card-text"},[e._v(e._s(t.answerContent))]),s("p",{staticClass:"content-answer"},[s("span",[s("strong",[e._v("Author: ")]),e._v(e._s(t.author))])])])}),s("div",{staticClass:"form-group mt-3"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.answer.content,expression:"answer.content"}],staticClass:"form-control",attrs:{rows:"3",placeholder:"Type your answer..."},domProps:{value:e.answer.content},on:{input:function(t){t.target.composing||e.$set(e.answer,"content",t.target.value)}}})]),s("div",{staticClass:"btn-add-answer"},[[s("div",[s("button",{staticClass:"btn btn-sm btn-sm btn-info",on:{click:function(s){e.sendAnswer(t.questionId)}}},[e._v("Send answer")])])]],2)],2)])])}),s("div",{staticClass:"load-more"},[e.loadMore?s("button",{staticClass:"btn btn-sm btn-outline-primary mt-5 btn-block",on:{click:e.getQuestions}},[e._v("\n          Load more\n     ")]):e._e()])],2)},ve=[],be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"btn-add-question"},[[s("div",[s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-center",modifiers:{"modal-center":!0}}],staticClass:"mb-3",attrs:{variant:"info"}},[e._v("New question")]),s("b-modal",{ref:"modal",attrs:{id:"modal-center",centered:"",title:"Share new question"},on:{ok:e.handleOk,shown:e.clearName}},[s("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.question.content,expression:"question.content"}],staticClass:"form-control",attrs:{rows:"3",placeholder:"Type your answer..."},domProps:{value:e.question.content},on:{input:function(t){t.target.composing||e.$set(e.question,"content",t.target.value)}}})])])],1)]],2)},ge=[],we={name:"QuestionForm",data:function(){return{userIdLogged:this.$store.state.user.user.id,question:{}}},methods:{clearName:function(){this.question={}},handleOk:function(e){e.preventDefault(),this.question.content?this.handleSubmit():alert("Please Type any question")},handleSubmit:function(){var e=this;u.a.post("".concat(c,"/questions/").concat(this.userIdLogged),this.question).then(function(){e.$toasted.global.defaultSuccess(),e.clearName(),e.$refs.modal.hide()}).catch(showError)}}},_e=we,ye=Object(b["a"])(_e,be,ge,!1,null,null,null),ke=ye.exports,Ce={name:"QuestionAndAnswers",components:{QuestionForm:ke},props:{isUserLogged:Boolean},data:function(){return{userIdLogged:this.$store.state.user.user.id,question:{},answer:{},questions:[],page:0,pageAnswers:0,loadMore:!0,isHidden:!1}},methods:{showAnswers:function(e,t){var s=document.getElementById(e);"none"===s.style.display?(this.answers=[],document.getElementById(e).style.display=""):document.getElementById(e).style.display="none"},getQuestions:function(){var e=this,t="".concat(c,"/questions/questionsanswers?page=").concat(this.page,"&size=6&userId=").concat(this.isUserLogged?this.userIdLogged:"0");u.a.get(t).then(function(t){e.questions=e.questions.concat(t.data.data),e.page++,0===t.data.data.length&&(e.loadMore=!1)})},sendAnswer:function(e){var t=this;this.answer.content?u.a.post("".concat(c,"/answers/").concat(this.userIdLogged,"/").concat(e),this.answer).then(function(){t.answer={}}).catch(showError):alert("Please Type the answer")}},mounted:function(){this.getQuestions()}},xe=Ce,$e=(s("18f4"),Object(b["a"])(xe,he,ve,!1,null,null,null)),qe=$e.exports,Se={name:"Home",components:{PageTitle:fe,QuestionAndAnswers:qe}},Pe=Se,Ae=(s("b497"),Object(b["a"])(Pe,ie,ue,!1,null,null,null)),Oe=Ae.exports,Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"admin-pages"},[s("PageTitle",{attrs:{icon:"fa fa-cogs",main:"System Adm",sub:"Registers & More"}}),s("div",{staticClass:"admin-pages-tabs"},[s("b-card",{attrs:{"no-body":""}},[s("b-tabs",{attrs:{card:""}},[s("b-tab",{attrs:{title:"Users","title-link-class":"bg-primary text-white text-uppercase"}},[s("UserAdmin")],1)],1)],1)],1)],1)},Ne=[],Ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-admin"},[s("b-form",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.id,expression:"user.id"}],attrs:{id:"user-id",type:"hidden"},domProps:{value:e.user.id},on:{input:function(t){t.target.composing||e.$set(e.user,"id",t.target.value)}}}),s("b-row",[s("b-col",{attrs:{md:"6",sm:"12"}},[s("b-form-group",{attrs:{label:"Name:","label-for":"user-name"}},[s("b-form-input",{attrs:{id:"user-name",type:"text",readonly:"remove"===e.mode,required:"",placeholder:"Type Name..."},model:{value:e.user.nome,callback:function(t){e.$set(e.user,"nome",t)},expression:"user.nome"}})],1)],1),s("b-col",{attrs:{md:"6",sm:"12"}},[s("b-form-group",{attrs:{label:"Email:","label-for":"user-email"}},[s("b-form-input",{attrs:{id:"user-email",type:"email",readonly:"remove"===e.mode,required:"",placeholder:"Type Email..."},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:"save"===e.mode,expression:"mode==='save'"}],staticClass:"form-check form-check-inline mt-3 mb-3",attrs:{id:"user-profile"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.profile,expression:"user.profile"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"",checked:""},domProps:{checked:e._q(e.user.profile,"")},on:{change:function(t){e.$set(e.user,"profile","")}}}),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio1"}},[e._v("USER")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"save"===e.mode,expression:"mode==='save'"}],staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.profile,expression:"user.profile"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"ROLE_ADMIN"},domProps:{checked:e._q(e.user.profile,"ROLE_ADMIN")},on:{change:function(t){e.$set(e.user,"profile","ROLE_ADMIN")}}}),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio2"}},[e._v("ADMIN")])]),s("b-row",{directives:[{name:"show",rawName:"v-show",value:"save"===e.mode,expression:"mode==='save'"}]},[s("b-col",{attrs:{md:"6",sm:"12"}},[s("b-form-group",{attrs:{label:"Password:","label-for":"user-password"}},[s("b-form-input",{attrs:{id:"user-password",type:"password",required:"",placeholder:"Type Password..."},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),s("b-col",{attrs:{md:"6",sm:"12"}},[s("b-form-group",{attrs:{label:"Confirm password:","label-for":"user-confirm-password"}},[s("b-form-input",{attrs:{id:"user-confirm-password",type:"password",required:"",placeholder:"Type confirm Password..."},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1)],1)],1),s("b-row",[s("b-col",{attrs:{xs:"12"}},["save"==e.mode?s("b-button",{attrs:{variant:"primary"},on:{click:e.save}},[e._v("\n           Save\n         ")]):e._e(),"remove"==e.mode?s("b-button",{attrs:{variant:"danger"},on:{click:e.remove}},[e._v("\n           Delete\n         ")]):e._e(),s("b-button",{staticClass:"ml-2",on:{click:e.reset}},[e._v("Cancel")])],1)],1)],1),s("hr"),s("b-table",{attrs:{hover:"",striped:"",items:e.users,fields:e.fields},scopedSlots:e._u([{key:"actions",fn:function(t){return[s("div",{attrs:{align:"center"}},[s("b-button",{staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(s){e.loadUser(t.item)}}},[s("i",{staticClass:"fa fa-pencil"})]),s("b-button",{attrs:{variant:"danger"},on:{click:function(s){e.loadUser(t.item,"remove")}}},[s("i",{staticClass:"fa fa-trash"})])],1)]}}])})],1)},Ue=[],Me={name:"UserAdmin",data:function(){return{mode:"save",user:{},users:[],fields:[{key:"id",label:"#",sortable:!0},{key:"nome",label:"Name",sortable:!0},{key:"email",label:"E-mail",sortable:!0},{key:"profile",label:"Profile",sortable:!0,formatter:function(e){return e?"ADMIN":"USER"}},{key:"actions",label:"Actions",class:"text-center"}]}},methods:{loadUsers:function(){var e=this;console.log(u.a.defaults.headers.common["Authorization"]);var t="".concat(c,"/users");u.a.get(t).then(function(t){e.users=t.data})},reset:function(){this.mode="save",this.user={},this.loadUsers()},save:function(){var e=this;if(this.user.password===this.user.confirmPassword){""===this.user.profile&&(this.user.profile=null);this.user.id&&"".concat(this.user.id);u.a.post("".concat(c,"/users"),this.user).then(function(){e.$toasted.global.defaultSuccess(),e.reset()}).catch(d)}else this.$toasted.global.passwordNotMatch()},remove:function(){var e=this,t=this.user.id;u.a.delete("".concat(c,"/users/").concat(t)).then(function(){e.$toasted.global.defaultSuccess(),e.reset()}).catch(d)},loadUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=t,this.user={id:e.id,nome:e.nome,email:e.email,password:e.password,confirmPassword:e.password,profile:e.profile?"ROLE_ADMIN":""}}},mounted:function(){this.loadUsers()}},Te=Me,je=(s("77fa"),Object(b["a"])(Te,Ie,Ue,!1,null,null,null)),Le=je.exports,De={name:"AdminPages",components:{PageTitle:fe,UserAdmin:Le}},Re=De,Qe=Object(b["a"])(Re,Ee,Ne,!1,null,null,null),He=Qe.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth-content"},[n("div",{staticClass:"auth-modal"},[n("img",{attrs:{src:s("cf05"),alt:"Logo",width:"200"}}),n("hr"),n("div",{staticClass:"auth-title"},[e._v(e._s(e.showSignup?"Register":"Login"))]),e.showSignup?n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.nome,expression:"user.nome"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.user.nome},on:{input:function(t){t.target.composing||e.$set(e.user,"nome",t.target.value)}}}):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e.showSignup?n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],attrs:{type:"password",placeholder:"Repeat Password"},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}}):e._e(),e.showSignup?n("button",{staticClass:"btn btn-primary btn-block",on:{click:e.signup}},[e._v("Register")]):n("button",{staticClass:"btn btn-primary btn-block",on:{click:e.signin}},[e._v("Sign in")]),n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.showSignup=!e.showSignup}}},[e.showSignup?n("span",[e._v("Do you already have account? Click here!")]):n("span",[e._v("Do you not have account? Register here!")])])])])},Fe=[],Ve=s("f499"),Je=s.n(Ve),ze={name:"Auth",data:function(){return{showSignup:!1,user:{}}},methods:{signin:function(){var e=this;u.a.post("".concat(c,"/auth"),this.user).then(function(t){e.$store.commit("setUser",t.data),console.log(t.data.token),localStorage.setItem(l,Je()(t.data)),e.$router.push({path:"/"})}).catch(d)},signup:function(){var e=this;this.user.password!==this.user.confirmPassword&&this.$toasted.global.defaultError(),u.a.post("".concat(c,"/signup"),this.user).then(function(){e.$toasted.global.defaultSuccess(),e.user={},e.showSignup=!1}).catch(d)}}},Ge=ze,Ye=(s("ee68"),Object(b["a"])(Ge,Be,Fe,!1,null,null,null)),Ke=Ye.exports;n["a"].use(oe["a"]);var We=[{name:"auth",path:"/auth",component:Ke},{name:"home",path:"/",component:Oe},{name:"adminPages",path:"/admin",component:He,meta:{requiresAdmin:!0}}],Xe=new oe["a"]({mode:"history",routes:We});Xe.beforeEach(function(e,t,s){var n=localStorage.getItem(l);if(e.matched.some(function(e){return e.meta.requiresAdmin})){var a=JSON.parse(n).user;a&&"ROLE_ADMIN"===a.profile?s():s({path:"/"})}else s()});var Ze=Xe;n["a"].config.productionTip=!1,new n["a"]({store:re,router:Ze,render:function(e){return e(Y)}}).$mount("#app")},"6eda":function(e,t,s){},"77fa":function(e,t,s){"use strict";var n=s("2a43"),a=s.n(n);a.a},9551:function(e,t,s){"use strict";var n=s("6eda"),a=s.n(n);a.a},"9f20":function(e,t,s){},"9f34":function(e,t,s){"use strict";var n=s("08f2"),a=s.n(n);a.a},a09f:function(e,t,s){"use strict";var n=s("52d3"),a=s.n(n);a.a},a405:function(e,t,s){"use strict";var n=s("dda0"),a=s.n(n);a.a},b497:function(e,t,s){"use strict";var n=s("3599"),a=s.n(n);a.a},bd70:function(e,t,s){},c21b:function(e,t,s){},cf05:function(e,t,s){e.exports=s.p+"img/logo.918fb3cb.png"},cf1c:function(e,t,s){e.exports=s.p+"img/loading.8a7630ca.gif"},dda0:function(e,t,s){},ee68:function(e,t,s){"use strict";var n=s("9f20"),a=s.n(n);a.a},f587:function(e,t,s){}});
//# sourceMappingURL=app.800a0dbc.js.map